"use strict";const e=require("../../common/vendor.js"),s={data:()=>({selectedTechnique:null,selectedPersonalTechnique:null,selectedTime:null,answers:{timing:"",benefit:"",otherTime:"",feeling:""}}),onLoad(){console.log("Step8页面加载")},methods:{selectTechnique(e){this.selectedTechnique=e,console.log("选中技巧选项:",e)},selectPersonalTechnique(e){this.selectedPersonalTechnique=e,console.log("选中个人技巧选项:",e)},selectTime(e){this.selectedTime=e,console.log("选中时间选项:",e)},inputChange(e,s){this.answers[e]=s.detail.value,console.log(`${e} 输入:`,s.detail.value)},savePlanInfo(){try{let s="";switch(this.selectedPersonalTechnique){case 1:s="缓慢深呼吸";break;case 2:s="想象宁静场景";break;case 3:s="放松肌肉";break;case 4:s="快速平静"}let t="";if(4===this.selectedTime&&this.answers.otherTime)t=this.answers.otherTime;else switch(this.selectedTime){case 1:t="早上醒来后在床上";break;case 2:t="刷完牙后在自己房间里";break;case 3:t="写作业前坐在书桌边"}const n={technique:s,time:t,feeling:this.answers.feeling};e.index.setStorageSync("plan_info",JSON.stringify(n)),console.log("已保存计划信息:",n)}catch(s){console.error("保存计划信息失败:",s)}},goBack(){e.index.navigateBack()},goNext(){this.selectedTechnique&&this.selectedPersonalTechnique&&this.selectedTime?4!==this.selectedTime||this.answers.otherTime?(this.savePlanInfo(),e.index.redirectTo({url:"/pages/survey/step9",success:()=>{console.log("成功导航到step9")},fail:s=>{console.error("导航到step9失败:",s),e.index.showToast({title:"导航失败，请重试",icon:"none"})}})):e.index.showToast({title:"请填写其他练习时间",icon:"none"}):e.index.showToast({title:"请完成所有选择",icon:"none"})}}};const t=e._export_sfc(s,[["render",function(s,t,n,c,i,o){return e.e({a:1===i.selectedTechnique?1:"",b:e.o((e=>o.selectTechnique(1))),c:2===i.selectedTechnique?1:"",d:e.o((e=>o.selectTechnique(2))),e:3===i.selectedTechnique?1:"",f:e.o((e=>o.selectTechnique(3))),g:4===i.selectedTechnique?1:"",h:e.o((e=>o.selectTechnique(4))),i:e.o((e=>o.inputChange("timing",e))),j:e.o((e=>o.inputChange("benefit",e))),k:1===i.selectedPersonalTechnique?1:"",l:e.o((e=>o.selectPersonalTechnique(1))),m:2===i.selectedPersonalTechnique?1:"",n:e.o((e=>o.selectPersonalTechnique(2))),o:3===i.selectedPersonalTechnique?1:"",p:e.o((e=>o.selectPersonalTechnique(3))),q:4===i.selectedPersonalTechnique?1:"",r:e.o((e=>o.selectPersonalTechnique(4))),s:1===i.selectedTime?1:"",t:e.o((e=>o.selectTime(1))),v:2===i.selectedTime?1:"",w:e.o((e=>o.selectTime(2))),x:3===i.selectedTime?1:"",y:e.o((e=>o.selectTime(3))),z:4===i.selectedTime?1:"",A:e.o((e=>o.selectTime(4))),B:4===i.selectedTime},4===i.selectedTime?{C:e.o((e=>o.inputChange("otherTime",e)))}:{},{D:e.o((e=>o.inputChange("feeling",e))),E:e.o(((...e)=>o.goBack&&o.goBack(...e))),F:e.o(((...e)=>o.goNext&&o.goNext(...e)))})}]]);wx.createPage(t);
